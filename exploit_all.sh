#!/bin/bash
# Shell script to sequentially run exploit1.py, exploit2.py, exploit3.py, and exploit4.py

echo "All flags:" > flags.txt

echo -n "1. " >> flags.txt
python3 exploits/exploit1.py | tee >(grep -oP '{[^}]+}' >> flags.txt)

echo -n "2. " >> flags.txt
python3 exploits/exploit2.py | tee >(grep -oP '{[^}]+}' >> flags.txt)

echo -n "3. " >> flags.txt
python3 exploits/exploit3.py | tee >(grep -oP '{[^}]+}' >> flags.txt)

echo -n "4. " >> flags.txt
python3 exploits/exploit4.py | tee >(grep -oP '{[^}]+}' >> flags.txt)

cat flags.txt